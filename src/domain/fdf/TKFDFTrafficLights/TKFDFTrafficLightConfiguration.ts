import { TKFDFTrafficLightsProperties } from "./TKFDFTrafficLightProperties";

// ////////////////////////////////////////////////////////////////////////////
// Type
// ////////////////////////////////////////////////////////////////////////////

export enum TKFDFTrafficLightType {
  KEY_VALUE = "key_value",
  MATH = "math"
}

// ////////////////////////////////////////////////////////////////////////////
// Generic
// ////////////////////////////////////////////////////////////////////////////

interface TKFDFTrafficLight {
  type: TKFDFTrafficLightType;
  properties: TKFDFTrafficLightsProperties;
}

// ////////////////////////////////////////////////////////////////////////////
// Key_values
// ////////////////////////////////////////////////////////////////////////////

export interface TKFDFTrafficLightKeyValue extends TKFDFTrafficLight {
  type: TKFDFTrafficLightType.KEY_VALUE;
  values: Record<string, string>; // [key]: value
}

export interface TKFDFTrafficLightMath extends TKFDFTrafficLight {
  type: TKFDFTrafficLightType.MATH;
  scope?: Record<string, string>; // [variableName]: key
  values: Record<string, string>; // [formula]: value
}

// ////////////////////////////////////////////////////////////////////////////
// Union type
// ////////////////////////////////////////////////////////////////////////////

export type TKFDFTrafficLightConfiguration =
  | TKFDFTrafficLightKeyValue
  | TKFDFTrafficLightMath;
